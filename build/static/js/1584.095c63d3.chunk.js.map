{"version":3,"file":"static/js/1584.095c63d3.chunk.js","mappings":"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","sources":["app/user-pages/Login.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Form, Button, InputGroup } from \"react-bootstrap\";\r\nimport Select from \"react-select\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport APIServices from \"../services/APIServices\";\r\n\r\nimport Swal from \"sweetalert2/dist/sweetalert2.js\";\r\nimport \"sweetalert2/src/sweetalert2.scss\";\r\n\r\nimport { FaEye, FaEyeSlash } from \"react-icons/fa\";\r\nimport logo_images from '../../assets/images/Sample.png';\r\n\r\n\r\nconst Login = () => {\r\n  const history = useHistory();\r\n\r\n  const [site_code, setsite_code] = React.useState([]);\r\n  const [validated, setValidated] = React.useState(false);\r\n\r\n  const [Username, setUsername] = React.useState(\"\");\r\n  const [Password, setPassword] = React.useState(\"\");\r\n  const [showPassword, setShowPassword] = React.useState(\"\");\r\n  const [site_ID, setsite_ID] = React.useState(\"\");\r\n  const [site_name, setsite_name] = React.useState(\"\");\r\n\r\n  const [errors, seterrors] = React.useState([]);\r\n\r\n  const [showImage, setShowImage] = useState(true);\r\n\r\n\r\n  const retrieveAPI = () => {\r\n    APIServices.get_sitecode()\r\n      .then((responseJson) => {\r\n        console.log(responseJson, \"JSON DATA\");\r\n        if (responseJson.data.status === \"SUCCESS\") {\r\n          console.log(responseJson.data.status);\r\n\r\n          let cities = responseJson.data.data.map((item) => ({\r\n            label: item.site_name,\r\n            value: item.site_cd,\r\n          }));\r\n          setsite_code(cities);\r\n        } else {\r\n          Swal.fire({\r\n            icon: \"error\",\r\n            title: \"Oops get_sitecode123...\",\r\n            text: responseJson.message,\r\n          });\r\n        }\r\n      })\r\n      .catch((e) => {\r\n        console.log(e);\r\n        Swal.fire({\r\n          icon: \"error\",\r\n          title: \"Oops get_sitecode...\",\r\n          text: e,\r\n        });\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    retrieveAPI();\r\n\r\n    function handleResize() {\r\n      setShowImage(window.innerWidth >= 768);\r\n    }\r\n    window.addEventListener('resize', handleResize);\r\n    handleResize();\r\n    return () => {\r\n      window.removeEventListener('resize', handleResize);\r\n    };\r\n  }, []);\r\n\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    const form = event.currentTarget;\r\n    //console.log(form.checkValidity())\r\n    if (form.checkValidity() === false) {\r\n      event.stopPropagation();\r\n    } else {\r\n      if (site_ID === \"\") {\r\n        console.log(\"EMPTY\");\r\n\r\n        Swal.fire({\r\n          position: \"top-end\",\r\n          icon: \"error\",\r\n          title: \"Please Select Site Code\",\r\n          showConfirmButton: false,\r\n          timer: 3000,\r\n        });\r\n      } else {\r\n        authenticate_login();\r\n      }\r\n      //\r\n    }\r\n    setValidated(true);\r\n  };\r\n\r\n  const authenticate_login = () => {\r\n    APIServices.authenticate_login(Username, Password, site_ID)\r\n      .then((responseJson) => {\r\n        console.log(\"Login JSON DATA : \", responseJson);\r\n\r\n        if (responseJson.data.status === \"SUCCESS\") {\r\n          console.log(responseJson.status);\r\n          localStorage.setItem(\"site_ID\", site_ID);\r\n\r\n          console.log(responseJson.data.data.emp_mst_login_id);\r\n          console.log(responseJson.data.data.emp_mst_empl_id);\r\n          console.log(responseJson.data.data.emp_mst_name);\r\n          console.log(responseJson.data.data.wkr_mst_wr_status);\r\n          localStorage.setItem(\r\n            \"wkr_mst_wr_status\",\r\n            responseJson.data.data.wkr_mst_wr_status\r\n          );\r\n          localStorage.setItem(\r\n            \"emp_mst_login_id\",\r\n            responseJson.data.data.emp_mst_login_id\r\n          );\r\n          localStorage.setItem(\r\n            \"emp_mst_empl_id\",\r\n            responseJson.data.data.emp_mst_empl_id\r\n          );\r\n          localStorage.setItem(\r\n            \"emp_mst_name\",\r\n            responseJson.data.data.emp_mst_name\r\n          );\r\n\r\n          localStorage.setItem(\"site_name\", site_name);\r\n\r\n          history.push(\"/dashboard\");\r\n        } else {\r\n          Swal.fire({\r\n            icon: \"error\",\r\n            title: \"Oops...\",\r\n            text: responseJson.data.message,\r\n          });\r\n        }\r\n      })\r\n      .catch((e) => {\r\n        console.log(e);\r\n        Swal.fire({\r\n          icon: \"error\",\r\n          title: \"Oops get_sitecode...\",\r\n          text: e,\r\n        });\r\n      });\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    // this.setState({id:e.value, name:e.label})\r\n    setsite_ID(e.value);\r\n    setsite_name(e.label);\r\n   \r\n    console.log({ id: e.value, name: e.label });\r\n  };\r\n  \r\n\r\n\r\n  \r\n  return (\r\n    <div className=\"content-wrapper\">\r\n      <div className=\"d-flex align-items-center auth px-0 bg-white\">\r\n\r\n        <div className=\"container-fluid\">\r\n\r\n          {/* <header className=\"header\">\r\n            <div className=\"brand-logo\" >\r\n              <img src={require(\"../../assets/images/logo.png\")} alt=\"logo\" width=\"100\" height=\"85\" />\r\n            </div>\r\n          </header> */}\r\n\r\n          <div className=\"row\">\r\n            <div className=\"row w-100 mx-0\">\r\n\r\n              <div className=\"col-lg-3 mx-auto\">\r\n                {showImage && (\r\n                  <img id=\"login-image\" src={logo_images} alt=\"logo\" width=\"500\" height=\"600\" />\r\n                )}\r\n              </div>\r\n              \r\n              <div className=\"col-lg-5 mx-auto\">\r\n                <div className=\"auth-form-light text-left py-4 px-4 px-sm-5\">\r\n\r\n                <div className=\"brand-logo\" >\r\n                  <img src={require(\"../../assets/images/logo.png\")} alt=\"logo\" />\r\n                </div>\r\n\r\n                  <h3>Hello! let's get started</h3>\r\n                  <h6 className=\"font-weight-light\">Sign in to continue.</h6>\r\n                  <Form className=\"pt-3\" noValidatevalidated={validated} onSubmit={handleSubmit}>\r\n\r\n                    <Form.Group md=\"6\" controlId=\"validationCustomUsername\">\r\n                      <Form.Label><span style={{ color: \"red\" }} class=\"required-asterisk\">*</span> Username </Form.Label>\r\n                      <div className=\"col-md-10\">\r\n                      <Form.Control type=\"text\" placeholder=\"Username\" onChange={(e) => setUsername(e.target.value)} required/>\r\n                      </div>\r\n                      <Form.Control.Feedback type=\"invalid\"> Please provide username. </Form.Control.Feedback>\r\n                    </Form.Group>\r\n                    \r\n\r\n                    <Form.Group md=\"6\" controlId=\"validationCustomPassword\">\r\n                      <Form.Label>\r\n                        <span style={{ color: \"red\" }} class=\"required-asterisk\">\r\n                          *{\" \"}\r\n                        </span>\r\n                        Password{\" \"}\r\n                      </Form.Label>\r\n\r\n                      <div className=\"col-md-10\">\r\n                      <InputGroup>\r\n                        <Form.Control\r\n                          type={showPassword ? \"text\" : \"password\"}\r\n                          placeholder=\"Password\"\r\n                          onChange={(e) => setPassword(e.target.value)}\r\n                          required\r\n                        />\r\n\r\n                        <InputGroup.Append>\r\n                          <Button variant=\"outline-secondary\" onClick={() => setShowPassword(!showPassword)}>\r\n                            {showPassword ? <FaEyeSlash /> : <FaEye />}\r\n                          </Button>\r\n                        </InputGroup.Append>\r\n                      </InputGroup>\r\n                      </div>\r\n\r\n\r\n                      <Form.Control.Feedback type=\"invalid\">\r\n                        Please provide password.\r\n                      </Form.Control.Feedback>\r\n                    </Form.Group>\r\n\r\n\r\n                    <Form.Group className=\"mb-3\" controlId=\"validationsite_code\">\r\n                      <Form.Label>\r\n                        <span style={{ color: \"red\" }} class=\"required-asterisk\">\r\n                          *{\" \"}\r\n                        </span>\r\n                        Site Code{\" \"}\r\n                      </Form.Label>\r\n                      {/* <Form.Control as=\"select\" type=\"select\" options={site_code}  value ={site_code} onChange={(e)=> handleChange(e)}  required /> */}\r\n                      <div className=\"col-md-10\">\r\n                        <Select\r\n                          options={site_code}\r\n                          onChange={(e) => handleChange(e)}\r\n                          required\r\n                          error={true}\r\n                        />\r\n                      </div>\r\n                      <Form.Control.Feedback type=\"invalid\">\r\n                        Please provide password.\r\n                      </Form.Control.Feedback>\r\n                    </Form.Group>\r\n                    \r\n                    {/* <hr align=\"left\" width=\"80%\"/> */}\r\n\r\n                    <div className=\"mt-3\">\r\n                      <div className=\"col-md-10\">\r\n                        <Button\r\n                        style={{padding:\".65rem\"}}\r\n                          className=\"btn btn-block btn-primary btn-lg font-weight-medium auth-form-btn\"\r\n                          type=\"submit\"\r\n                        >\r\n                          Login\r\n                        </Button>\r\n                      </div>\r\n                    </div>\r\n                  </Form>\r\n\r\n                  <div className=\"col-md-10\">\r\n                    <div style={{ padding: \"1px 0\"}}>\r\n                      <a href=\"#\" style={{ fontSize: \"13px\" }}>Forgotten your password?</a>\r\n                    </div>\r\n                    <div style={{ padding: \"32px 0\"}}></div>\r\n                  </div>\r\n\r\n                </div>\r\n              </div>\r\n              \r\n            </div>\r\n          </div>\r\n\r\n          <footer className=\"footer bg-white\">\r\n            <hr />\r\n            <div className=\"d-sm-flex justify-content-center align-items-center font-weight-bold\">\r\n              <span className=\"mr-2\">&copy; 2023 Evantage Solution Sdn. Bhd. v2.21.3.</span>\r\n              <a href=\"https://evantage.com.my/\" style={{ color: \"#324F91\" }}>Go to Website</a>\r\n            </div>\r\n          </footer>\r\n\r\n        </div>\r\n      \r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"names":["history","useHistory","React","site_code","setsite_code","validated","setValidated","Username","setUsername","Password","setPassword","showPassword","setShowPassword","site_ID","setsite_ID","site_name","setsite_name","useState","showImage","setShowImage","useEffect","handleResize","window","innerWidth","APIServices","then","responseJson","console","log","data","status","cities","map","item","label","value","site_cd","Swal","icon","title","text","message","catch","e","addEventListener","removeEventListener","authenticate_login","localStorage","setItem","emp_mst_login_id","emp_mst_empl_id","emp_mst_name","wkr_mst_wr_status","push","className","id","src","logo_images","alt","width","height","require","noValidatevalidated","onSubmit","event","preventDefault","currentTarget","checkValidity","stopPropagation","position","showConfirmButton","timer","md","controlId","style","color","class","type","placeholder","onChange","target","required","variant","onClick","options","name","handleChange","error","padding","href","fontSize"],"sourceRoot":""}